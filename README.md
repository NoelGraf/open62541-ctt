# open62541-ctt
Conformance test configuration for the open62541 project.

The configuration matches the `/examples/server_ctt.c` server implementation in the open62541 project.

## How to build and launch the example server

1. Build with encryption enabled (must be using OpenSSL):
```bash
mkdir build; cd build
cmake -DUA_NAMESPACE_ZERO=FULL -DUA_BUILD_EXAMPLES=ON -DUA_ENABLE_ENCRYPTION=OPENSSL <source-dir>
make server_ctt
```

2. Generate a self-signed certificate (`server_cert.der` and `server_key.der`) for the server:
```bash
../tools/certs/create_self-signed.py --uri "urn:open62541.server.application"
```

3. Copy the certificates generated by the CTT to a folder that is accessible to the generated binary (assumed below to be the `pki` folder).

4. Run the CTT server:
```bash
./bin/examples/server_ctt server_cert.der server_key.der --enableAnonymous --enableNone --enableBasic128 --enableBasic256 --secureChannelTrustListFolder ./pki/ApplicationInstance_PKI/trusted/certs --secureChannelIssuerListFolder ./pki/ApplicationInstance_PKI/issuers/certs --secureChannelRevocationListFolder ./pki/ApplicationInstance_PKI/issuers/crl --sessionTrustListFolder ./pki/X509UserIdentity_PKI/trusted/certs --sessionIssuerListFolder ./pki/X509UserIdentity_PKI/issuers/certs --sessionRevocationListFolder ./pki/X509UserIdentity_PKI/issuers/crl
```

## Attention!
Only upload the open62541.ctt.xml and open62541.selection.xml files.
The other script definitions are part of the CTT and need to be licensed from the OPC Foundation.
If such files are committed by accident, rewrite the history of the repository to make them inaccessible.
